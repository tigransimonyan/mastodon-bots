const megalodon = require('megalodon');
const lunarphase = require('lunarphase-js');
const generator = megalodon.default;

const BASE_URL = 'https://xn--y9a6bah4ck.xn--y9a3aq';
const ACCESS_TOKEN = process.env.ACCESS_TOKEN;

const client = generator('mastodon', BASE_URL, ACCESS_TOKEN);
const tips = [
	'Երբ լաւ ես զգում աւելի յստակ ես տեսնում միւսներին',
	'Ինչո՞ւ ես փորձում դաւաճանել քեզ',
	'Սիրահարուիր հազարաւոր տարիներ առաջ ապրած գրողին։ Փորձին հասկանալ նրան',
	'Քո բնազդները լաւն են',
	'Ցանկութիւնը կարող է դուրս գալ քո մարմինց այն բառերի հետ, որոնք միգուցէ դու չէիր ցանկանում ասել',
	'Ինչպէ՞ս ես կայացնում կարեւոր որոշումներ',
	'Քո կարիքները քննարկման ենթակայ չեն',
	'Դուրս տուր',
	'Սէրը մրցակցութիւն չէ',
	'Դու ապրում ես կոտրուած սրտերի կողքին',
	'Կերակրիր դրսի կենդանիներին',
	'Սովորիր նոր ուտեստ պատրաստել',
	'Տխրութիւնը սխալ որոշման նշան չէ',
	'Հեռացիր այն տեղից, որտեղ երջանիկ չես',
	'Սէրը ժամանակի մեքենայ է',
	'Աշխատիր այսօր քիչ խօսել',
	'Հագիր քո սիրած շորը',
	'Դու չես կարող պլանաւորել ամէն ինչ',
	'Ամէն օր կորցրու մի բան',
	'Որևէ բան սիրելու միակ ձեւը գիտակցելն է, որ դու չպետք է տիրես դրան',
	'Քո սիրտը գիրք է',
	'Դու լաւ գիտես ինչպէս զուարճանալ',
	'Քիչը շատ է',
	'Քո ընկերները աւելի շատ ունեն քո կարիքը քան քեզ թուում է',
	'Դուրս գալու միակ ձեւը միջով անցնելն է',
	'Փորձիր չմտածել մարդկանց մասին, իբրեւ քո հոգեվիճակի պրոյեկցիա',
	'Մի խաբիր քեզ',
	'Քո սիրտը կրկին ու կրկին կոտրուելու է',
	'Գրիր առաջինը',
	'Հակասութիւնները ամենուր են',
	'Զգացմունքները արժեւորւմ են փորձառութիւնը',
	'Դադարիր ընտրել այն ինչը քեզ չի ընտրում',
	'Միայն քեզ նման լինելով կարող ես գրաւել ճիշտ մարդկանց',
	'Մի նոյնականացիր քեզ սահմանափակող բաների հետ',
	'Ազատուիր կաղապարներից, որոնք այլեւս չեն օգնում քեզ',
	'Դու կարող ես ցանկանալ միայն այն ինչ գիտես',
	'Նկատիր թե ինչն է շեղում քեզ, ընդունիր ու բաց թող',
	'Ընդունիր քեզ',
	'Դու կարող ես ապրել մտքերի մէջ խորասուզուած կամ ապրել ներկայում',
	'Դու չես կարող կառաւարել ծովի ալիքները, բայց կարող ես սահել դրանց վրայով',
	'Հիմա լաւ պահ է ներկայ լինելու։ Հիմա նոյնպէս։ Հիմա էլ։',
	'Օգնութիւն խնդրիր',
	'Այն ինչը չես փոխում ընտրում ես',
	'Երեկոյեան դուրս արի քեզ հետ ընթրելու',
	'Դու ունես նուէրներ որոնք չես օգտագործում',
	'Այն ինչ կարող է գոյութիւն ունենալ, դեռ պէտք է կառուցել',
	'Մի խոստացիր այն ինչ չես կարող',
	'Զգուշաւոր լինելը ճիշտ որոշում է',
	'Ինչքա՞ն նշան է քեզ պէտք հասկանալու համար',
	'Թոյլ տուր սէրը միացնի քեզ',
	'Քեզ միայն պէտք է մի փոքր յոյս',
	'Դառնութիւնը պէտք չէ կուտակել, վերացրու',
	'Դու անփոխարինելի ես',
	'Թոյլ թող քեզ',
	'Գտիր մարդկանց, որոնց կողքին քեզ ապահով կը զգաս',
	'Ջուրը աւելի խորն է քան թուում է',
	'Դու արդէն ունես այն ինչ քեզ պէտք է',
	'Փողը իրական չէ',
	'Իրականութիւնը կարող է աւելի վատը թուալ, երբ դու տխուր կամ միայնակ ես',
	'Փորձիր ուժերդ',
	'Եղիր հաստատակամ, համարձակ եւ անվախ',
	'Ցանկութիւններին դիմակայելու համար պէտք է համարձակութիւն',
	'Երկար մտածելու փոխարէն զանգիր',
	'Զգոյշօրէն ընտրիր քո մոլուցքները',
	'Ինչ էլ որ մտածես, արժի խօսել այդ մասին',
	'Ֆիզիկական վարժութիւններ արա',
	'Դու կարող ես զգալ իրերը առանց որոշելու ինչ են դրանք',
	'Սիրած աշխատանքը ծուղակ է',
	'Դու պարտաւոր չես ընկերութիւն անել նախկիններիդ հետ',
	'Ծիծաղը արտադրում է սերոտոնին, լաւացնում ուշադրութիւնը, օբեւկտիւութիւնը եւ ուղեղի աշխատանքը',
	'Ստիպիր քեզ լինել աւելի ինքնավստահ',
	'Դու ստեղծել ես անիրական կապ ինքդ քեզ սիրելու եւ սիրուած լինելու միջեւ',
	'Դու իրօք կարող ես սովորեցնել նոր բան հին շանը',
	'Ստուերը ցոյց է տալիս սահմանը եւ խորութիւնը',
	'Փակիր աչքերդ։ Լսիր բոլոր հեռու եւ մօտ ձայները',
	'Հարցը պայքարի անհրաժեշտութեան մասին չէ, այլ ձեւի',
	'Քո հոգին տիեզերք է, ուսումնասիրիր այն ամեն օր',
	'Փոփոխութիւնը միակ հաստատուն բանն է',
	'Հպարտացիր քեզնով',
	'Սիրոյ համար չկայ չափման միաւոր',
	'Սկանդալը վերածիր դաւադրութեան',
	'Ուշադրութիւն դարձրու առաջարկուող արքետիպերին։ Փոխիր սցենարը',
	'Ցանկացած գործողութիւն պահանջում է որոշակի ռիսկ',
	'Դու քո մտքերը չես',
	'Կասկածի տակ դիր ենթադրութիւններդ',
	'Գտիր ճանապարհ վիշտդ դուրս հանելու',
	'Դու ես որոշում ինչ կահոյք տեղադրել',
	'Ուշադրութիւնն աղօթք է',
	'Ջուրը փորձելու համար կարիք կը լինի մտնել աւազանը',
	'Քեզ խրախուսել են ձեռք բելեր ամէն տեսակ կախուածութիւն։ Կանգ առ',
	'Դու պարտաւոր չես լինել լաւը',
	'Միակ աշխարհը քո ստեղծած աշխարհն է',
	'Մտածիր «սրիկայ» բառի մասին',
	'Մի մեղադրիր քեզ մտերմութիւն ցանկանալու համար',
	'Ուշադրութիւն դարձրու իւրաքանչիւր բառին',
	'Շարունակիր նոյն ձեւով',
	'Սիրո հասնելու համար դու պէտք է քանդես քո էգոն',
	'Այսօր դու կարող ես դադարել սպասել',
	'Դու պէտք է տեսնես եւ ընդունես քո դերը անառողջ դրամայում',
	'Ճիշտ գնահատիր տեղ հասնելու ժամանակը',
	'Ամէն ինչ չէ, որ պէտք է անել հենց հիմա',
	'Թոյլ տուր քեզ մի փոքր լաց լինել',
	'Դու տեսնում ես աշխարհը ամէն օր ուրիշ աչքով',
	'Այսօր քեզ համար սննդարար կերակուր պատրաստիր',
	'Դու չես կարող ամէն անգամ հասկանալ, թե ինչու ես զգում այն ինչ զգում ես',
	'Պարտադիր չէ միանգամից խօսել այդ մասին',
	'Սիրտդ բաց պահիր',
	'Կառուցիր նոր մտածելակերպ',
	'Դու պատրաստ ես վայրի եւ ոտաբոբիկ լինել',
	'Վավերացրու քո բոլոր զգացմունքները',
	'Պատասխանիր՝ «Այո», որքան հնարաւոր է շատ',
	'Սէրը ունի իր կողմնացոյցը',
	'Մի տուր ցուցադրական խոստումներ',
	'Իմացիր որտեղից է գալիս քո խանդը',
	'Իւրաքանչիւր յաջողակ մարդ ինքնավստահ խաբեբայ է',
	'Եղիւ ազնիւ քո սահմանափակումների հետ',
	'Իրական սէրը սարսափելի է',
	'Դու պատասխանատու չես քո մասին ուրիշի ունեցած կարծիքի համար',
	'Ազատիր միտքդ եւ սիրտդ նյոնպէս կազատուի',
	'Շփուելու ցանկութիւնը մարդուն բնորոշ է։ Դա չի ազդի քո անկախութեան վրայ։',
	'Դու չես կարող միշտ աճել այնտեղ, որտեղ քեզ տնկել են',
	'Հանգստացիր',
	'Ամէն ինչ բոլորի համար է',
	'Հպարտութիւնը ուժ է տալիս ի տարբերութիւն մեղքի զգացման',
	'Երախտագիտութիւնը սրտի յիշողութիւնն է',
	'Այս անգամ իրօք արա',
	'Թոյլ տուր ամենամռայլ մտքերդ դուրս գան։ Ընդունիր դրանք։ Տես թե ինչպէս են անհետանում',
	'Հանգստացիր երբ հոգնած ես։ Նոյնիսկ երբ անելիք կայ։',
	'Ասա նրան թե ինչ ես զգում',
	'Թափ տուր ինքնավստահութիւնդ',
	'Դու հանդիպածդ մարդկանց հաւաքական կերպարն ես',
	'Հաշուիր ծաղիկի թերթիկները՝ սիրում է, չի սիրում',
	'Տես թե ով քայլ կանի երբ հանձնուես',
	'Լռութեան մէջ նստելը միակ բանն է որ կարող ես անել',
	'Եղիր յարգալից քեզ հետ',
	'Բացատրելու կարիք չկայ',
	'Համբերութիւնը պարզութիւն է բերում',
	'Նորը սկսում է խայթել',
	'Ընդունիր քննադատութիւնը որպէս գործընթացի մաս',
	'Դու կարող ես դիպչել առանց դիպչելու',
	'Դա տեղի կունենայ երբ չես սպասի',
	'Զայրոյթը կարթնացնի քեզ',
	'Սէրը այստեղ է որ ազատի քեզ',
	'Դիմադրութիւնը յստակութիւն է տալիս',
	'Դու սովորում ես հետեւել քո սեփական ուղուն',
	'Փորձիր կապ հաստատել աչքերով',
	'Ապրիր համացանցում յօրինուած կեանքով ինչպէս զուգահեռ իրականութիւնում',
	'Հիմա քո հերթն է',
	'Եղիր գործնական',
	'Թող քո ներկայութիւնը զգացուի',
	'Դու պէտք է լինես քո փաստաբանը',
	'Սեփական անձի հանդէպ խստութիւնը ամէն ինչ աւելի է բարդացնում',
	'Դու ձգողական ես',
	'Հպարտացիր քո ստեղծած, քեզ աջակցող մեխանիզմով',
	'Հաճոյք ստացիր ամէն փոքր բանից',
	'Հեռաւորութիւն պահիր քո հանրային եւ անձնական կեանքի միջեւ',
	'Դու փնտրում ես մէկին, ով կը հանի քեզ քո մարմնից',
	'Քո մարմինը տիեզերքի ստեղծագործութիւնն է',
	'Կարելի է լացել նոյնիսկ երբ ամէն ինչ լաւ է',
	'Խորասուզուիր աշխատանքի մէջ',
	'Պատմութիւնը տեղի է ունենում հէնց հիմա',
	'Այնքան ասա մինչեւ սկսես հաւատալ',
	'Դու հաւասարաչափ նպատակասլաց եւ համարձակ ես',
	'Երբեմն մարդիկ գալիս են ցոյց տալու այն, ինչ չես ուզում',
	'Իրական ընկերները չեն վախենում մարտահրաւէր նետել',
	'Գրիր սիրային պոեմ քեզ նուիրուած',
	'Միացրու երգ, որը կը յիշեցնի թե ով ես',
	'Դու չես կոտրուել',
	'Գնիր նոր հագուստ',
	'Դու ամէն մէկի համար չես',
	'Դադարիր մեղաւոր զգալ քո հանդէպ',
	'Սովորութիւնը տեսանելի է դառնում ընդհատելուց յետոյ',
	'Տիեզերքը ոչինչ քեզ պարտք չէ',
	'Դու ձանձրալի չես',
	'Ի՞նչն է քեզ ստիպում մտածել, որ կարող ես կառաւարել մարդկանց',
	'Դու չես կարող վստահել նրան ով քեզ չի վստահում',
	'Մարդաշատ սենեակը գոյութիւն ունի միայն քո գլխում',
	'Թող ուղեղդ մի քիչ հանգստանայ',
	'Նպատակը քեզ նման դառնալն է',
	'Փորձիր հաճոյք ստանալ կարգապահութիւնից',
];

const smokingHarms = [
	'Ծխախոտը համարուում է թոքերի քաղցկեղի առաջացման հիմնական պատճառներից մէկը։ Ակտիւ ծխողների մօտ քաղցկեղի ռիսկը շատ աւելի բարձր է, քան չծխողների մօտ։',
	'Ծխախոտի մէջ եղած նիկոտինն ու միւս քիմիական նիւթերը նպաստում են սրտանոթային հիւանդութիւնների առաջացմանը, ներառեալ ինֆարկտը և կաթուածը։',
	'Ծխելը կարող է հանգեցնել քրոնիկ շնչառական հիւանդությունների, ինչպիսիք են քրոնիկ բրոնխիտը և էմֆիզեման, ինչը դժուարացնում է թթվածնի տեղափոխումը և թոքերի աշխատանքը։',
	'Ծխախոտը պարունակում է նիկոտին, որն առաջացնում է ուժեղ կախվածութիւն։ Նիկոտինը ազդում է ուղեղի վրա և դժվարացնում է ծխելու դադարեցումը։',
	'Բացի թոքերի քաղցկեղից, ծխելը մեծացնում է կոկորդի, բերանի խոռոչի, լեարդի, ենթաստամոքսային գեղձի և այլ օրգանների քաղցկեղների առաջացման ռիսկը։',
	'Ծխախոտի երկրորդական ծուխը վնասում է ոչ միայն ծխողին, այլև այն մարդկանց, ովքեր շնչում են այդ ծուխը։ Այդպիսի ծխի ազդեցության տակ գտնուող մարդիկ նույնպես մեծացնում են սրտանոթային և շնչառական հիւանդությունների ռիսկը։',
	'Ծխող կանանց մոտ մեծանում է վաղաժամ ծննդաբերութեան, պտղի ցածր քաշի, ինչպես նաև հղիութեան ընթացքում բարդութիւնների առաջացման ռիսկը։',
	'Ծխախոտը վատացնում է մաշկի որակը, առաջացնում է վաղաժամ կնճիռներ և ընդհանուր տեսքի վատթարացում։',
	'Ծխելը թուլացնում է օրգանիզմի իմունային համակարգը, ինչը մեծացնում է տարբեր վարակների և հիվանդութիւնների նկատմամբ զգայնութիւնը։',
	'Ծխելը նուազեցնում է օրգանիզմի հիւսվածքներում թթուածնի քանակը, ինչը կարող է առաջացնել ֆիզիկական ուժի անկում և այլ առողջական խնդիրներ։',
	'Ծխելը վնասում է ատամները՝ առաջացնելով դեղնացում, քարերի կուտակում և լնդերի հիւանդություններ, ինչպիսիք են պերիօդոնտիտը։ Սա կարող է հանգեցնել ատամների կորստի։',
	'Ծխելը կարող է առաջացնել էրեկցիայի խնդիրներ տղամարդկանց մօտ, քանի որ նիկոտինը խոչընդոտում է արեան հոսքը դէպի սեռական օրգաններ։',
	'Ծխելը կարող է վնասել վերարտադրողական համակարգը ինչպէս տղամարդկանց, այնպես էլ կանանց մօտ, նուազեցնելով վերարտադրողական ֆունկցիաները և մեծացնելով անպտղութեան ռիսկը։',
	'Ծխող ծնողների երեխաները աւելի հակուած են ունենալ զարգացման խնդիրներ, ինչպէս նաև մեծանում է հանկարծակի մանկական մահուան սինդրոմի (SIDS) առաջացման հաւանականությիւնը։',
	'Ծխախոտի արտադրութիւնն ու ծխախոտի մնացորդների (մոխիր, գլանակների ֆիլտրներ) թափոնները վնասում են շրջակա միջավայրը։ Ծխախոտի մնացորդները լուրջ աղբի աղբիւր են և յաճախ յայտնվում են ջրային և հողի էկոհամակարգերում։',
	'Ծխելու պատճառով մաշկը կորցնում է առաձգականութիւնը, ինչը հանգեցնում է վաղաժամ ծերացման, ինչն արտահայտուում է ոչ միայն մաշկի վրա, այլեւ ողջ օրգանիզմում։',
	'Ծխողները աւելի մեծ ռիսկի են ենթարկուում տարիքային մացառախտի (macular degeneration) և կատարակտի առաջացման համար, ինչը կարող է հանգեցնել տեսողութեան կորստի։',
	'Ծխողները հաճախ են տառապում քրոնիկ ցաւերով, օրինակ՝ մէջքի ցաւերով, քանի որ ծխախոտը կարող է վնասել ոսկրերի և հոդերի առողջութիւնը։',
	'Ծխողների մօտ կարող են մեծանալ տագնապի, դեպրեսիայի և այլ հոգեբանական խնդիրների ռիսկերը, յատկապես այն ժամանակ, երբ նրանք փորձում են թողնել ծխելը։',
	'Որոշ երկրներում և հասարակութիւններում ծխելը սոցիալական մերժում է առաջացնում, ինչը կարող է հանգեցնել սոցիալական մեկուսացման և խարանների։',
	'Ծխախոտի օգտագործումը ծախսատար է, և ժամանակի ընթացքում ծխողների համար ծխախոտի գնումները կարող են լուրջ տնտեսական բեռ դառնալ։',
	'Ծխող մարդիկ ավելի հակուած են ունենալ ոսկրերի խտութեան նուազում, ինչը կարող է հանգեցնել կոտրուածքների և օստեոպորոզի զարգացման։',
];

function splitTextToLines(text) {
  const words = text.split(' ');
  let lines = [];
  for (let i = 0; i < words.length; i += 3) {
    let line = words.slice(i, i + 3).join(' ');
    lines.push(line);
  }
  return lines;
}

const getRandomInt = (max) => Math.floor(Math.random() * max);

function getArrayElementByDayInYear(arr) {
  const currentDate = new Date();
  const startOfYear = new Date(currentDate.getFullYear(), 0, 1); // January 1st of the current year
  const dayInYear =
    Math.floor((currentDate - startOfYear) / (1000 * 60 * 60 * 24)) + 1;
  let index = dayInYear - 1; // Array indices start from 0, so we subtract 1 from the dayInYear.

  while (index >= arr.length) {
    index = index - arr.length;
  }

  return arr[index];
}

const post = (status, params) => {
  client
    .postStatus(status, params)
    .then(() => console.log('Done!'))
    .catch((error) => console.log(error));
};

const datetime = new Date();
const hours = datetime.getHours();

const pronouns = [
  'սիրուններ ջան',
  'համովներ ջան',
  'դամբուլներ ջան',
  'սրտիկներ ջան',
  'խելոքներս',
  'անքուններ ջան',
];

if (hours === 23) {
  post('🙏 ո՞ւմ կուզենայիր շնորհակալութիւն յայտնել');
} else if (hours === 19) {
  post(`🧠 դադարիր յիշել, պատկերացնել կամ բեմադրել բացասական մտքեր`);
} else if (hours === 17) {
  post(`🌸    🦋                  🦋    
                                              🦋
🦋     վայելի՜ր ներկան    
                                           🦋
    🦋             🦋`);
} else if (hours === 14) {
  const lines = splitTextToLines(getArrayElementByDayInYear(tips));
  let text = '╔═════════════\n║\n';
  lines.forEach((line) => {
    text += `║    ${line}\n`;
  });
  text += '║\n╚═════════════';
  post(text);
} else if (hours === 16) {
	const text = `🚭☠️ Ծխելը վնասում է քո առողջութեանը\n\n${getArrayElementByDayInYear(smokingHarms)}`;
	post(text);
} else if (hours === 20) {
	const text = `Ապրես որ չես ծխել։\n@CuriousHead`;
	post(text, {
		visibility: 'direct'
	});
} else if (hours === 1) {
  const luna = lunarphase.Moon.lunarPhaseEmoji();
  post(`.                             ✨
 ${luna}   
            խաղա՜ղ գիշեր քեզ      ✨

        ✨                            💫`);
}
